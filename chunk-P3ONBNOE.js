import{b as re,c as le,d as me}from"./chunk-BNYFZZ2X.js";import{$a as G,Aa as d,H as K,Ha as Z,Ia as ee,Ja as O,Ka as L,L as D,La as y,Ma as _,Na as b,Oa as s,Pa as m,Q as f,Qa as E,R as g,Ra as l,Sa as p,Ta as k,Ua as I,Va as z,Wa as h,Xa as T,a as N,ab as i,b as w,ba as F,bb as R,c as V,ca as Q,cb as x,db as te,eb as ne,fb as ae,ja as Y,lb as oe,mb as C,nb as j,qa as c,qb as ie,rb as ce}from"./chunk-JLDEQ6DM.js";function ue(n,t){if(n&1&&(l(0,"li")(1,"b"),i(2),p(),l(3,"span"),i(4),p()()),n&2){let e=t.$implicit,a=t.$index;c(2),x("Tel ",a+1),c(2),R(e)}}var U=class n{contact=C.required();number=C(NaN,{transform:ce});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-display-tel"]],inputs:{contact:[1,"contact"],number:[1,"number"]},decls:12,vars:3,template:function(e,a){e&1&&(l(0,"header")(1,"h3"),i(2," Contact "),l(3,"span"),i(4),p(),l(5,"span"),i(6),p()(),l(7,"span"),i(8),p()(),l(9,"ul"),y(10,ue,5,2,"li",null,O),p()),e&2&&(c(4),R(a.number()),c(2),R(a.contact().name),c(2),x("(",a.contact().tels.length,")"),c(2),_(a.contact().tels))},encapsulation:2,changeDetection:0})};function fe(n,t){if(n&1&&(s(0,"li"),E(1,"app-display-tel",0),m()),n&2){let e=t.$implicit,a=t.$index;c(),b("contact",e)("number",a+1)}}var A=class n{contacts=C.required();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-display-contact"]],inputs:{contacts:[1,"contacts"]},decls:6,vars:0,consts:[[3,"contact","number"]],template:function(e,a){e&1&&(s(0,"header")(1,"h2"),i(2,"Contact"),m()(),s(3,"ul"),y(4,fe,2,2,"li",null,O),m()),e&2&&(c(4),_(a.contacts()))},dependencies:[U],encapsulation:2,changeDetection:0})};var ge="contact-data",S=class n{keyName=`${D(Y)}-${ge}`;get(){let t=localStorage.getItem(this.keyName);return JSON.parse(t??"null")}set(t){let e=JSON.stringify(t);localStorage.setItem(this.keyName,e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function ye(n,t){n&1&&E(0,"app-display-contact",0),n&2&&b("contacts",t)}function _e(n,t){n&1&&(s(0,"p"),i(1,"No data!!!"),m())}var B=class n{dataStorage=D(S);contacts=F(this.dataStorage.get());static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-example-display-page"]],decls:2,vars:1,consts:[[3,"contacts"]],template:function(e,a){if(e&1&&Z(0,ye,1,1,"app-display-contact",0)(1,_e,2,0,"p"),e&2){let o;ee((o=a.contacts())?0:1,o)}},dependencies:[A],encapsulation:2,changeDetection:0})};function H(n){return{value:n??""}}function P(n){let{name:t,tels:e}=n??{name:"",tels:[""]};return{name:t,tels:e.map(a=>H(a))}}function pe(n){return(n??[void 0]).map(P)}function Ce(n){return n.value}function xe(n){let{name:t,tels:e}=n;return{name:t,tels:e.map(Ce)}}function se(n){return n.map(xe)}function ve(n,t){if(n&1){let e=k();l(0,"li")(1,"label")(2,"b"),i(3),p(),l(4,"input",3,1),h("change",function(){let o=f(e).$index,r=G(5),u=T();return g(u.changeTel(o,r.value))}),p()(),l(6,"button",4),h("click",function(){let o=f(e).$index,r=T();return g(r.removeTel(o))}),i(7,"X"),p()()}if(n&2){let e=t.$implicit,a=t.$index,o=t.$count;c(3),x("Tel ",a+1),c(),I("value",e.value),c(2),I("disabled",o===1)}}var J=class n{number=C(null);contact=j(P());removable=C(!1,{transform:ie});remove=oe();changeName(t){this.contact.update(e=>w(N({},e),{name:t}))}addTel(){this.contact.update(t=>{let o=t,{tels:e}=o,a=V(o,["tels"]);return w(N({},a),{tels:[...e,H()]})})}removeTel(t){this.contact.update(e=>{let r=e,{tels:a}=r,o=V(r,["tels"]);return w(N({},o),{tels:a.filter((u,$)=>$!==t)})})}changeTel(t,e){this.contact.update(a=>{let u=a,{tels:o}=u,r=V(u,["tels"]);return w(N({},r),{tels:o.map(($,de)=>(de===t&&($.value=e),$))})})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-dynamic-tel"]],inputs:{number:[1,"number"],contact:[1,"contact"],removable:[1,"removable"]},outputs:{contact:"contactChange",remove:"remove"},decls:15,vars:4,consts:[["nameElem",""],["telElem",""],["type","button",3,"click"],["type","text",3,"change","value"],["type","button",3,"click","disabled"]],template:function(e,a){if(e&1){let o=k();l(0,"header")(1,"button",2),h("click",function(){return f(o),g(a.addTel())}),i(2,"+ Tel"),p(),l(3,"label")(4,"b"),i(5),p(),l(6,"input",3,0),h("change",function(){f(o);let u=G(7);return g(a.changeName(u.value))}),p(),l(8,"span"),i(9),p()(),l(10,"button",4),h("click",function(){return f(o),g(a.remove.emit())}),i(11,"X"),p()(),l(12,"ul"),y(13,ve,8,3,"li",null,L),p()}e&2&&(c(5),x("Contact ",a.number()),c(),I("value",a.contact().name),c(3),x("(",a.contact().tels.length,")"),c(),I("disabled",!a.removable()),c(3),_(a.contact().tels))},encapsulation:2,changeDetection:0})};function De(n,t){if(n&1){let e=k();s(0,"li")(1,"app-dynamic-tel",1),z("contactChange",function(o){let r=f(e).$index,u=T();return g(u.changeContact(r,o))})("remove",function(){let o=f(e).$index,r=T();return g(r.removeContact(o))}),m()()}if(n&2){let e=t.$implicit,a=t.$index,o=t.$count;c(),b("number",a+1)("contact",e)("removable",o>1)}}var W=class n{contacts=j([P()]);addContact(){this.contacts.update(t=>[...t,P()])}removeContact(t){this.contacts.update(e=>e.filter((a,o)=>o!==t))}changeContact(t,e){this.contacts.update(a=>a.map((o,r)=>(r===t&&(o.name=e.name,o.tels=e.tels),o)))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-dynamic-contact"]],inputs:{contacts:[1,"contacts"]},outputs:{contacts:"contactsChange"},decls:6,vars:0,consts:[["type","button",3,"click"],[3,"contactChange","remove","number","contact","removable"]],template:function(e,a){e&1&&(s(0,"header")(1,"button",0),z("click",function(){return a.addContact()}),i(2,"+ Contact"),m()(),s(3,"ul"),y(4,De,2,3,"li",null,L),m()),e&2&&(c(4),_(a.contacts()))},dependencies:[J],encapsulation:2,changeDetection:0})};var q=class n{dataStorage=D(S);contacts=F(pe(this.dataStorage.get()??void 0));constructor(){Q(()=>{let t=this.contacts();this.dataStorage.set(se(t))})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-example-update-page"]],decls:1,vars:1,consts:[[3,"contactsChange","contacts"]],template:function(e,a){e&1&&(s(0,"app-dynamic-contact",0),ae("contactsChange",function(r){return ne(a.contacts,r)||(a.contacts=r),r}),m()),e&2&&te("contacts",a.contacts)},dependencies:[W],encapsulation:2,changeDetection:0})};var X=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-example-root"]],decls:13,vars:0,consts:[["routerLinkActive","app-st-active"],["routerLink","./display"],[1,"material-symbols-outlined"],["routerLink","./update"]],template:function(e,a){e&1&&(s(0,"nav")(1,"ul")(2,"li",0)(3,"a",1)(4,"span",2),i(5,"docs"),m(),i(6,"Display"),m()(),s(7,"li",0)(8,"a",3)(9,"span",2),i(10,"edit_document"),m(),i(11,"Update"),m()()()(),E(12,"router-outlet"))},dependencies:[re,le,me],styles:[".app-st-active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:80px;text-align:center;border:2px solid green;border-radius:10px;margin:5px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:green}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px;width:100%;height:100%;padding:15px 0}"],changeDetection:0})};var st=[{path:"",component:X,children:[{path:"",redirectTo:"display",pathMatch:"full"},{path:"display",component:B},{path:"update",component:q}]}];export{st as default};
